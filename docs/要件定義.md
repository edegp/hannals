**プロダクト名（仮）**：積み込み最適化支援ツール（配送順×積載レイアウト）

**更新日（JST）**：2025-12-13

**作成者**：＿＿＿＿＿

**対象**：企画・開発チーム／協力会社／検証担当

---

## 0. このドキュメントの目的

本書は「何を作るか／何を作らないか」を合意し、開発・検証・営業の共通言語にするための要件定義書である。

DB設計・UI設計・API設計の詳細は本書のスコープ外とする（別資料で扱う）。

---

## 1. 背景

- 物流現場では、**配送順を考慮した積み込み**が重要だが、配送ノウハウがドライバー個人に属人化しがちである。
- 倉庫スタッフが積み込みを代行する分業が進む一方、土地勘・配送順の知見が不足し、積み込み品質が安定しにくい。
- 結果として「現場で探す／積み直す／遅配／残業増」などのロスが発生する。

---

## 2. 解決したいコア課題（本質）

1. **配送順と積み込みの整合**が取れず、現場で探す・積み直すロスが発生している。
2. 積み込み判断が属人化しており、**標準化された手順（再現性）**がない。
3. 荷物・車両情報が分散しており、**最適化に必要な入力が揃わない／揃えるのが面倒**である。

---

## 3. 目的・ゴール

### 3.1 プロダクトゴール

- 倉庫スタッフ(バイト)でも、配送順に沿った積み込み計画を作成でき、現場のロスを削減できる状態を作る。

### 3.2 成功指標（KPI）

- **停車時間**（1ストップあたりの作業時間）
- **出発時間（出発遅延）**（積み込み完了〜出発まで）

---

## 4. 想定ユーザー・ステークホルダー

### 4.1 ユーザー種別

- 倉庫スタッフ（積み込み担当）
- 配車担当（配送順・便の確定）
- ドライバー（積み込み計画の確認・現場調整）
- 管理者（車両・拠点・権限管理）

### 4.2 利用シーン（代表）

- 前日〜当日早朝：配車担当が配送順を確定 → 倉庫スタッフが積み込み計画を作成 → 現場で積み込み実行

---

## 5. スコープ

### 5.1 対象範囲（MVP）

- 荷物情報・車両情報を入力し、配送順に沿う**積み込み計画（配置案）**を生成し、現場に提示できること。

### 5.2 対象外（当面やらない）

- 配送ルートの自動最適化（巡回セールスマン問題の最適化まで踏み込まない）
- ドライバー勤怠・労務管理の機能
- 複数拠点を跨ぐ高度な在庫・WMS連携（MVPでは手入力／CSV中心）
- 高精度3Dスキャン・完全自動採寸（絶対にやらない）

---

## 6. 前提・制約

- まずは「現場で使える最小の形」を優先し、入力の手間と精度のバランスを取る。
- ~~荷物のサイズ・重量が欠損する場合があるため、欠損時の扱い（推定・カテゴリ）を用意する。~~
- 現場は通信が不安定な場合があるため、表示・閲覧は軽量であるべきだ。

---

## 7. 用語（暫定）

- **便（びん）**：ある車両がある時間帯に運ぶ配送単位
- **配送順**：訪問先の順序（Stop 1..N）
- **積み込み計画**：配送順と車両レイアウトに基づく配置案
- **出入口（搬出入）**：車両後方／側面など積み下ろし動線
- **ゾーン**：荷台を区画化した領域（前方/中央/後方、左/右など）

---

## 8. 機能要件

### 8.1 荷物情報の取得(検品時に取得している前提)

- 荷物情報を以下のいずれかで登録できること
    - 既存データ入力（手入力／CSV取り込み）
- 荷物情報として最低限以下を扱えること
    - 荷物ID（または管理番号）
    - 配送先（Stop）
    - 荷物のサイズ（縦横高さ）※不明可
    - 重量 ※不明可
    - 取扱注意属性（天地無用／割れ物／要冷蔵など）※任意

**受け入れ基準（例）**

- CSVで10〜500件程度の荷物を取り込み、一覧で確認できる。
- サイズ未入力の荷物が混在しても次工程（計画生成）に進める。

---

### 8.2 車両情報の管理

- 車両の荷台寸法・積載制限を登録できること
    - 荷台サイズ（縦横高さ）
    - 最大積載量（重量）
    - 出入口（後方／側面など）
- 車両タイプ（2t/4t/10t等）をテンプレとして持てること

**受け入れ基準（例）**

- 車両を1台登録し、その車両を便に紐づけて計画生成に利用できる。

---

### 8.3 配送順の入力

- 便ごとに配送順（Stop 1..N）を入力・編集できること

---

### 8.4 積み込み計画（配置案）の生成

- 入力された荷物情報＋車両情報＋配送順から、積み込み計画を生成できること
- 生成結果には少なくとも以下を含めること
    - 荷物ごとの推奨位置
        - Stopごとの推奨積載ゾーン（例：後方にStop1、前方にStop20）
    - 配送順のインデックス
    - 3Dデータ

---

### 8.5 計画の表示・共有

- 倉庫スタッフが見て積み込める形で計画を表示できること
    - 3D表示を基本とする

**受け入れ基準（例）**

- 現場端末（スマホ）で閲覧しても崩れずに確認できる。

---

### 8.6 配送場所に対応した荷物の位置の表示

- ドライバーが配送中に荷物を取り出す際に、荷物の位置がわかるビューが表示できること。

---

## 9. 非機能要件

### 9.1 パフォーマンス

- 1便あたり荷物数：〜500件程度を想定（MVP）
- 計画生成：通常ケースで数十秒以内（目標：10秒以内）
- 表示：スマホ回線でもストレスが少ない軽量設計であること

---

## 10. ユーザーストーリー（MVP）

1. 配車担当として、便を作成し配送順（Stop）を登録したい。
2. 倉庫スタッフ(バイト)として、荷物一覧を取り込み、車両を選び、積み込み計画の生成と積み込みをしたい。
3. ドライバーとして、配送を行い、荷物の場所をスマホで確認したい。